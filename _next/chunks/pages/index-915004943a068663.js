(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7274)}])},7313:function(e,t,n){"use strict";n.d(t,{Z:function(){return useViewportSize}});var i=n(7294);function useViewportSize(){let[e,t]=(0,i.useState)({w:0,h:0});return(0,i.useEffect)(()=>{function hanldeResize(){t({w:innerWidth,h:innerHeight})}return window.addEventListener("resize",hanldeResize),hanldeResize(),()=>{window.removeEventListener("resize",hanldeResize)}},[]),e}},7274:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return R},default:function(){return Index}});var i=n(5893),r=n(7294),a=n(9008),l=n.n(a),s=n(4161),o=n(9972);n(8411);var c=n(6177),u=n(4960),d=n(4606);let isCustomValueType=e=>"object"==typeof e&&e.mix,getMixer=e=>isCustomValueType(e)?e.mix:void 0;var h=n(6405),f=n(8868),m=n(6681);function useListTransform(e,t){let n=(0,m.h)(()=>[]);return function(e,t){let n=(0,u.c)(t()),updateValue=()=>n.set(t());return updateValue(),(0,f.L)(()=>{let scheduleUpdate=()=>h.Wi.update(updateValue,!1,!0),t=e.map(e=>e.on("change",scheduleUpdate));return()=>{t.forEach(e=>e()),(0,h.Pn)(updateValue)}}),n}(e,()=>{n.length=0;let i=e.length;for(let t=0;t<i;t++)n[t]=e[t].get();return t(n)})}var v=n(4979),p=n(7313),home_BackgroundVideo=()=>{let[e,t]=(0,r.useState)(!0),n=(0,u.c)(0),a=function(e,t,n,i){let r="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],r=e[1+n],a=e[2+n],l=e[3+n],s=(0,d.s)(r,a,{mixer:getMixer(a[0]),...l});return t?s(i):s}(t,n,void 0);return Array.isArray(e)?useListTransform(e,r):useListTransform([e],([e])=>r(e))}(n,[0,1],["brightness(100%)","brightness(0%)"]),l=(0,p.Z)();return(0,c.LZ)(e=>{let i=(e.animatedScroll-1.2*l.h)/l.h;n.set(i),e.animatedScroll>=3*l.h?t(!1):t(!0)},[l.h]),(0,i.jsx)(v.E.div,{style:{filter:a,display:e?"block":"none"},className:"fixed inset-0 z-0",variants:{"page-hidden":{opacity:0},"page-in":{opacity:1,transition:{duration:1.4}},"page-out":{opacity:0,transition:{duration:0}}},children:(0,i.jsx)("video",{muted:!0,autoPlay:!0,playsInline:!0,loop:!0,src:"/media/Etro_Textile_1920x1080_Desktop.mp4",className:"h-full w-full object-cover"})})},x=n(5487);let g={any:0,all:1};function useInView(e,{root:t,margin:n,amount:i,once:a=!1}={}){let[l,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!e.current||a&&l)return;let r={root:t&&t.current||void 0,margin:n,amount:"some"===i?"any":i};return function(e,t,{root:n,margin:i,amount:r="any"}={}){let a=function(e,t,n){var i;if("string"==typeof e){let r=document;t&&((0,x.k)(!!t.current,"Scope provided, but no element detected."),r=t.current),n?(null!==(i=n[e])&&void 0!==i||(n[e]=r.querySelectorAll(e)),e=n[e]):e=r.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}(e),l=new WeakMap,s=new IntersectionObserver(e=>{e.forEach(e=>{let n=l.get(e.target);if(!!n!==e.isIntersecting){if(e.isIntersecting){let n=t(e);"function"==typeof n?l.set(e.target,n):s.unobserve(e.target)}else n&&(n(e),l.delete(e.target))}})},{root:n,rootMargin:i,threshold:"number"==typeof r?r:g[r]});return a.forEach(e=>s.observe(e)),()=>s.disconnect()}(e.current,()=>(s(!0),a?void 0:()=>s(!1)),r)},[t,e,n,a]),l}var w=n(7156),j=n(4305);n(9447);let b=(0,w._)(.6,0,.2,1),E={initial:{y:0,opacity:1,color:"#ffffff"},hover:{y:[0,20,0],opacity:[1,0,1],color:["#ffffff","#1A1A1A","#1A1A1A"],transition:{duration:.45,ease:b}},out:{y:[0,20,0],opacity:[1,0,1],color:["#1A1A1A","#1A1A1A","#ffffff"],transition:{duration:.4,ease:b}}},y={initial:{background:"rgba(256,256,256,0)",top:-58},hover:{background:"rgb(256,256,256,1)",top:0,transition:{duration:.8}},out:{background:"rgba(256,256,256,0)",top:-58,transition:{duration:.5,delay:.1}}},ButtonHero=e=>{let{label:t}=e,[n,r]=(0,j.n)("out","hover");return(0,i.jsxs)(v.E.button,{className:"relative overflow-hidden h-auto mt-8 lg:mt-[60px] border border-white rounded-[30px] py-[14px] px-[24px]",initial:"initial",animate:n,onMouseOver:()=>{r()},onMouseOut:()=>{r()},onClick:()=>{e.onClick&&e.onClick()},children:[(0,i.jsx)("div",{className:"relative overflow-hidden h-[auto] z-[10]",children:(0,i.jsx)(v.E.div,{className:"relative uppercase tk-inter cursor-pointer text-fluid-s text-white leading-[1]",variants:E,children:t})}),(0,i.jsx)(v.E.div,{className:"absolute w-full h-[58px] left-0 top-[-100%] z-[1]",variants:y})]})};var N=n(2148),home_MainTitle=e=>{let{content:t}=e,n=t.homepage,a=n.hero_main.title.split(","),[l,s]=(0,r.useState)(!1),[o,u]=(0,r.useState)("animate"),{h:d}=(0,p.Z)(),h=(0,r.useRef)(null),f=useInView(h,{margin:"-50% 0px 0px 0px"}),m=(0,c.LZ)(e=>{e.animatedScroll>=20?u("initial"):u("animate"),f&&1==e.direction&&(e.stop(),e.scrollTo(.75*d,{force:!0,onComplete:()=>e.start()})),f&&-1==e.direction&&(e.stop(),e.scrollTo("top",{duration:1.4,force:!0}))},[f]);return(0,r.useEffect)(()=>{l?null==m||m.start():null==m||m.stop()},[l,m]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.E.section,{initial:"initial",animate:o,variants:N.EY,onAnimationStart:e=>{"initial"!=e&&s(!1)},onAnimationComplete:()=>s(!0),className:"fixed w-full h-[100svh] grid place-content-center z-[20] pointer-events-none",children:(0,i.jsxs)(v.E.div,{variants:N.EY,className:"uppercase text-white text-center",children:[(0,i.jsx)("h2",{className:"overflow-hidden font-inter text-fluid-m mb-2 lg:mb-0",children:(0,i.jsx)(v.E.span,{className:"block",variants:N.ly,children:n.hero_main.subtitle})}),(0,i.jsx)("h1",{className:"font-ivymode text-fluid-lg leading-none",children:null==a?void 0:a.map((e,t)=>(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{className:"block",variants:N.ly,children:e})},t))}),(0,i.jsx)(v.E.div,{variants:N.ly,custom:!0,style:{pointerEvents:"all"},children:(0,i.jsx)("a",{href:"/fabrics?newFabrics=true",children:(0,i.jsx)(ButtonHero,{label:n.hero_main.cta})})})]})}),(0,i.jsx)("div",{className:"fixed flex flex-col items-center w-full z-[100] bottom-[5vh] tk-inter overflow-hidden justify-center",children:(0,i.jsx)(v.E.button,{className:"relative text-fluid-s text-[#ffffff] opacity-[0.8] cursor-pointer uppercase animated",initial:"initial",animate:o,variants:N.Yj,onClick:()=>m.scrollTo(d,{force:!0,onComplete:()=>m.start()}),children:n.button.scroll.label})}),(0,i.jsx)("div",{className:"relative z-10 h-[calc(100vh+6px)]"}),(0,i.jsx)("div",{ref:h,className:"relative z-10 h-[4px]"})]})},home_SecondaryTitle=()=>{let e=(0,r.useRef)(null),t=useInView(e,{amount:.3});return(0,i.jsxs)(v.E.section,{ref:e,animate:t?"animate":"initial",variants:N.EY,className:"grid h-screen font-ivymode place-content-center text-white relative z-[3]",children:[(0,i.jsxs)(v.E.h3,{variants:N.EY,className:"mb-5 text-center text-fluid-l uppercase leading-[1.1]",children:[(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{variants:N.ly,className:"block",children:"Etro distinctive"})}),(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{variants:N.ly,className:"block",children:"High-end designs"})})]}),(0,i.jsx)(v.E.p,{custom:!0,variants:N.ly,className:"font-inter md:max-w-[40vw] px-4 text-center text-fluid-ml",children:"ETRO's unique collections and high performance fabrics are designed with iconic graphics, colors and patterns combining rooted traditions and new technologies to add a recognizable elegant touch to home decor."})]})},T=n(1163);let k=(0,w._)(.445,.05,.55,.95),_={combinedAnimation:e=>({y:e[0]%2==0?e[2]:e[2]-20,rotate:e[0]%2==0?e[1]:e[1]-2,transition:{y:{ease:k,from:e[0]%2==0?e[2]-20:e[2],duration:2.4,repeat:1/0,repeatType:"reverse"},rotate:{ease:k,from:e[0]%2==0?e[1]-2:e[1],duration:2.4,repeat:1/0,repeatType:"reverse"}}})};var home_Card=e=>{let{id:t,title:n,subtitle:a,img:l,rotate:o,translateY:c,index:u}=e,d=(0,r.useContext)(s.I),h=(0,T.useRouter)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("a",{className:"inline-block w-[77vw] md:w-[25vw] mr-[15vw] md:mr-[10vw] last:mr-0 group ",href:"/fabrics/"+t,onClick:e=>{e.preventDefault(),d.setShowLayer(l),setTimeout(()=>{h.push("/fabrics/"+t+"?hp=true")},500)},children:(0,i.jsxs)(v.E.figure,{initial:"start",animate:"combinedAnimation",variants:_,custom:[u,o,c],style:{rotate:o,translate:"0 ".concat(c)},className:"overflow-hidden w-full bg-white rounded-[10px] cursor-pointer",children:[(0,i.jsx)("div",{className:"rounded-[10px] w-full aspect-square overflow-hidden",children:(0,i.jsx)(v.E.img,{layoutId:"img-hp-".concat(t),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",src:l})}),(0,i.jsxs)("figcaption",{className:"md:p-[24px] p-[16px] flex flex-col",children:[(0,i.jsx)("span",{className:"uppercase text-fluid-mml text-left leading-[1] text-[#1A1A1A] pb-[12px] text-ellipsis overflow-hidden whitespace-nowrap",children:n.replace(","," ")}),(0,i.jsx)("span",{className:"uppercase text-fluid-s text-left leading-[1] text-[#1A1A1A] tk-inter",children:a})]})]})})})},home_HorizontalScroll=e=>{let{collections:t,setLayerSrc:n}=e,[a,l]=(0,r.useState)("initial"),s=t.flatMap(e=>e.products.filter(e=>e.isNewFabric&&e.newFabricsShowInHome)).filter(Boolean),o=(0,r.useRef)(null),d=useInView(o,{amount:.5}),h=(0,r.useRef)(null),f=(0,r.useRef)(null),m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=(0,u.c)(0),a=(0,c.LZ)(n=>{if(!t.current)return;let{top:r,width:a}=t.current.getBoundingClientRect();r<=0&&Math.abs(r)+a<=e.current.scrollWidth&&i.set(r)},[]);return(0,r.useLayoutEffect)(()=>{function calc(){if(!t.current||!e.current||n[0])return;let i=e.current.scrollWidth-e.current.getBoundingClientRect().width+e.current.getBoundingClientRect().height;t.current.style.height=i+"px"}return calc(),window.addEventListener("resize",calc),()=>{window.removeEventListener("resize",calc)}},n),(0,r.useEffect)(()=>{n[0]&&(t.current.style.height="auto"),i.set(0),null==a||a.scrollTo("top")},[a,...n]),i}(h,f);return(0,c.LZ)(e=>{let{top:t}=f.current.getBoundingClientRect();d&&l("animate"),!d&&t<=0&&l("exit"),!d&&t>=1&&l("initial")},[d]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("section",{className:"relative z-[3]",ref:f,children:(0,i.jsxs)(v.E.div,{ref:o,animate:a,variants:N.EY,style:{background:"rgba(244, 242, 239, 1)"},className:"sticky top-0 left-0 h-screen grid place-content-center",children:[(0,i.jsxs)("div",{className:"font-ivymode text-fluid-xl uppercase text-center leading-none",children:[(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{variants:N.ly,className:"block",children:"discover"})}),(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{variants:N.ly,className:"block",children:"new fabrics"})})]}),(0,i.jsx)("div",{className:"overflow-hidden absolute w-full h-full",children:(0,i.jsxs)(v.E.div,{style:{x:m},ref:h,className:"flex h-full",children:[(0,i.jsx)("div",{className:"flex-none h-full w-[85%]"}),(0,i.jsx)(v.E.div,{variants:N.t2,className:"flex-none h-full",children:(0,i.jsx)("div",{className:"flex h-full items-center",children:s.map((e,t)=>{var n;return(0,i.jsx)(home_Card,{id:e.cod,index:t,title:e.title,subtitle:null===(n=e.subtitle)||void 0===n?void 0:n.join("").replace(" ,",","),img:e.image,rotate:t%2==0?-8:8,translateY:t%2==0?-60:60},e.id)})})}),(0,i.jsx)("div",{className:"flex-none h-full w-[25%]"})]})})]})})})},A=n(5675),C=n(5947),S=n(1664),L=n.n(S);let useGestureDirection=e=>{let[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=-1,i=0,r=0,a=null;function handleWheel(e){clearTimeout(a),a=setTimeout(()=>{n(null)},20),n(e.deltaY>0?"down":"up")}function handleTouchStart(e){let n=e.touches[0];t=n.identifier,i=n.clientY}function handleTouchMove(e){let a=[...e.changedTouches].find(e=>e.identifier==t);a&&(r=a.clientY-i,i=a.clientY,n(r>0?"up":"down"))}function handleTouchEnd(e){[...e.changedTouches].find(e=>e.identifier==t)&&(t=-1,i=0,r=0,n(null))}return e.current&&(e.current.addEventListener("wheel",handleWheel),e.current.addEventListener("touchstart",handleTouchStart),e.current.addEventListener("touchmove",handleTouchMove),e.current.addEventListener("touchend",handleTouchEnd),e.current.addEventListener("touchcancel",handleTouchEnd)),()=>{e.current&&(e.current.removeEventListener("wheel",handleWheel),e.current.removeEventListener("touchstart",handleTouchStart),e.current.removeEventListener("touchmove",handleTouchMove),e.current.removeEventListener("touchend",handleTouchEnd),e.current.removeEventListener("touchcancel",handleTouchEnd))}},[]),t};var home_CategoriesSection=e=>{let{heading:t,title:n,button:a,isAnimating:l,setIsAnimating:s,images:o,restart:c,prev:u,next:d,last:h}=e,f=(0,A.E)(),m=(0,r.useRef)(),x=useGestureDirection(m),g=useInView(m,{amount:.9}),w=(0,C.hO)();(0,r.useEffect)(()=>{(async()=>{g&&!l&&"up"==x?(await f.start("exit"),u()):g&&!l&&"down"==x&&(h||await f.start("exit"),d())})()},[x,h,l,g]),(0,r.useEffect)(()=>{w||f.start("page-out")},[w,f]),(0,r.useEffect)(()=>{(g||c)&&f.start("animate")},[g,c]);let{w:j}=(0,p.Z)(),b=j<=768;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(v.E.section,{ref:m,initial:"initial",animate:f,variants:N.zr,onAnimationStart:e=>{s(!0)},onAnimationComplete:e=>{"exit"!=e&&s(!1)},className:"flex relative z-[2] justify-between items-center h-[100svh] w-full overflow-hidden",children:[(0,i.jsx)(v.E.div,{layoutId:"img-".concat(o.imageLeft.id),variants:{initial:{rotate:-20,x:b?-j:-.35*j},animate:{rotate:b?-7:-12,x:b?-.85*j:-(.35*j*.33),transition:{duration:1.4,ease:N.mv}},exit:{rotate:-20,x:b?-j:-.35*j,transition:{duration:1,ease:N.mv}}},transition:{layout:{duration:0}},className:"md:w-[35vw] flex-none w-[100vw] aspect-square rounded-3xl overflow-hidden",children:(0,i.jsx)("img",{src:o.imageLeft.src,className:"object-cover w-full h-full"})},o.imageLeft.id+j),(0,i.jsxs)(v.E.div,{variants:N.EY,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 uppercase text-white text-center",children:[(0,i.jsx)("div",{className:"overflow-hidden font-inter text-fluid-m mb-2",children:(0,i.jsx)(v.E.span,{className:"block",variants:N.ly,children:t})}),(0,i.jsxs)("div",{className:"font-ivymode text-fluid-lg leading-none",children:[(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{className:"block",variants:N.ly,children:n.line1})}),(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(v.E.span,{className:"block",variants:N.ly,children:n.line2})})]}),(0,i.jsx)(v.E.div,{variants:N.ly,custom:!0,children:(0,i.jsx)(L(),{href:a.link+"&first="+o.imageLeft.id.trim()+"&second="+o.imageRight.id.trim(),children:(0,i.jsx)(ButtonHero,{label:a.label})})})]}),(0,i.jsx)(v.E.div,{layoutId:"img-".concat(o.imageRight.id.trim()),variants:{initial:{rotate:20,x:b?.05*j:.35*j},animate:{rotate:b?7:12,x:b?-(.15*j):.35*j*.33,transition:{duration:1.4,ease:N.mv}},exit:{rotate:20,x:b?.05*j:.35*j,transition:{duration:1,ease:N.mv}}},transition:{layout:{duration:0}},className:"md:w-[35vw] flex-none w-[100vw] aspect-square rounded-3xl overflow-hidden",children:(0,i.jsx)(v.E.img,{src:o.imageRight.src,className:"w-full h-full object-cover"})},o.imageRight.id+j)]})})},home_CategoriesAutoscroll=e=>{let{collections:t}=e,[n,a]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!0),o=t.filter(e=>e.homepage.isHeroCollection),u=(0,r.useRef)(null),d=(0,r.useRef)(null),h=useInView(d,{amount:1}),f=useInView(u,{margin:"0px 0px -70% 0px"}),m=(0,r.useRef)(null);useGestureDirection(m);let p=(0,c.LZ)();return(0,r.useEffect)(()=>{h&&(p.stop(),p.scrollTo("#section-".concat(o.length-1),{force:!0}))},[h]),(0,r.useEffect)(()=>{f&&!n&&(p.stop(),p.scrollTo("#section-0",{force:!0,lock:!0}))},[f,n]),(0,i.jsx)(v.E.div,{className:"z-[21] relative",ref:m,variants:{"page-hidden":{backgroundColor:"rgba(26, 26, 26, 0)"},"page-in":{backgroundColor:"rgba(26, 26, 26, 1)"},"page-out":{backgroundColor:"rgba(26, 26, 26, 0)",transition:{duration:1.4}}},children:o.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[0===t?(0,i.jsx)("div",{ref:u,id:"section-0",className:"h-[2px]"}):t===o.length-1?(0,i.jsx)("div",{ref:d,id:"section-".concat(o.length-1),className:"h-[2px]"}):(0,i.jsx)("div",{id:"section-"+t}),(0,i.jsx)(home_CategoriesSection,{isAnimating:l,heading:e.subtitle,title:{line1:e.title.split(",")[0],line2:e.title.split(",")[1]},button:{label:e.cta.label,link:"/fabrics?idCol="+e.id},setIsAnimating:s,images:{imageLeft:{src:e.products[0].image,id:e.products[0].id},imageRight:{src:e.products[3].image,id:e.products[3].id}},prev:()=>{a(!0);let e=0!==t?t-1:0;0===t?p.scrollTo("#section-".concat(e),{offset:-(.4*innerHeight),force:!0,duration:2,easing:N.mv,onComplete:()=>{a(!1),p.start()}}):p.scrollTo("#section-".concat(e),{immediate:!0,force:!0})},next:()=>{t===o.length-1?p.scrollTo("bottom",{onComplete:()=>p.start(),force:!0}):p.scrollTo("#section-".concat(t+1),{immediate:!0,force:!0})}},t)]}))})},z=n(4734),R=!0;function Index(e){let t=(0,r.useContext)(s.I);return(0,r.useEffect)(()=>{(0,o.YA)("homepage"),null==t||t.setTheme("light"),null==t||t.setTemplate({...null==t?void 0:t.template,from:"homepage",use:"homepage"})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l(),{children:(0,i.jsx)("title",{children:"Etro | Homepage"})}),(0,i.jsx)(home_BackgroundVideo,{}),(0,i.jsx)(home_MainTitle,{content:z.L}),(0,i.jsx)(home_SecondaryTitle,{}),(0,i.jsx)(home_HorizontalScroll,{collections:e.fabrics}),(0,i.jsx)(home_CategoriesAutoscroll,{collections:e.fabrics})]})}},4305:function(e,t,n){"use strict";n.d(t,{n:function(){return useCycle}});var i=n(7294);let wrap=(e,t,n)=>{let i=t-e;return((n-e)%i+i)%i+e};function useCycle(...e){let t=(0,i.useRef)(0),[n,r]=(0,i.useState)(e[t.current]),a=(0,i.useCallback)(n=>{t.current="number"!=typeof n?wrap(0,e.length,t.current+1):n,r(e[t.current])},[e.length,...e]);return[n,a]}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);