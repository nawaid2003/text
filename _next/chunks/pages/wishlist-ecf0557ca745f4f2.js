(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{6489:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},o=e.split(";"),n=(t||{}).decode||i,s=0;s<o.length;s++){var l=o[s],a=l.indexOf("=");if(!(a<0)){var c=l.substring(0,a).trim();if(void 0==r[c]){var u=l.substring(a+1,l.length).trim();'"'===u[0]&&(u=u.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(u,n)}}}return r},t.serialize=function(e,t,i){var n=i||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var l=s(t);if(l&&!o.test(l))throw TypeError("argument val is invalid");var a=e+"="+l;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return a};var i=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},7041:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]]);return i};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var n=i(6489),isClientSide=function(){return"undefined"!=typeof window},isCookiesFromAppRouterMiddleware=function(e){return!!e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},isContextFromAppRouterMiddleware=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.res.cookies)},transformAppRouterMiddlewareCookies=function(e){var t={};return e.getAll().forEach(function(e){var i=e.name,r=e.value;t[i]=r}),t},stringify=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(isContextFromAppRouterMiddleware(e)&&(null==e?void 0:e.req))return transformAppRouterMiddlewareCookies(e.req.cookies);if(e&&(t=e.req),!isClientSide())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,n.parse)(t.headers.cookie):{};for(var t,i={},r=document.cookie?document.cookie.split("; "):[],o=0,s=r.length;o<s;o++){var l=r[o].split("="),a=l.slice(1).join("=");i[l[0]]=a}return i},t.getCookie=function(e,i){var r=(0,t.getCookies)(i)[e];if(void 0!==r)return r?r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):r},t.setCookie=function(e,t,i){if(isContextFromAppRouterMiddleware(i)){var s,l,a,c=i.req,u=i.res,d=o(i,["req","res"]),f=r({name:e,value:t},d);c&&c.cookies.set(f),u&&u.cookies.set(f);return}if(i){var c=i.req,u=i.res,p=o(i,["req","res"]);l=c,a=u,s=p}var h=(0,n.serialize)(e,stringify(t),r({path:"/"},s));if(isClientSide())document.cookie=h;else if(a&&l){var x=a.getHeader("Set-Cookie");if(Array.isArray(x)||(x=x?[String(x)]:[]),a.setHeader("Set-Cookie",x.concat(h)),l&&l.cookies){var v=l.cookies;""===t?delete v[e]:v[e]=stringify(t)}if(l&&l.headers&&l.headers.cookie){var v=(0,n.parse)(l.headers.cookie);""===t?delete v[e]:v[e]=stringify(t),l.headers.cookie=Object.entries(v).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,i){return(0,t.setCookie)(e,"",r(r({},i),{maxAge:-1}))},t.hasCookie=function(e,i){return!!e&&(0,t.getCookies)(i).hasOwnProperty(e)}},6712:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wishlist",function(){return i(7768)}])},6349:function(e,t,i){"use strict";i.d(t,{E:function(){return Arrow}});var r=i(5893);let Arrow=e=>{let{color:t,rotate:i}=e;return(0,r.jsx)("div",{className:"arrow",style:{rotate:i},children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,r.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"".concat(t||"#fff")})})})}},899:function(e,t,i){"use strict";i.d(t,{cJ:function(){return checkProductInWishlist},f8:function(){return getProductsInWishlist},wH:function(){return updateCookieWishlist}});var r=i(7041);let getProductsInWishlist=e=>{let t=(0,r.getCookie)("wishlist-".concat(e));return t?JSON.parse(t):[]},checkProductInWishlist=(e,t,i)=>{let o=(0,r.getCookie)("wishlist-".concat(i)),n=o?JSON.parse(o):[],s="".concat(e,"-").concat(t);return n.length>0&&n.some(e=>e===s)},updateCookieWishlist=(e,t,i,o)=>{let n="wishlist-".concat(o),s="".concat(t,"-").concat(i),l=(0,r.getCookie)(n),a=l?JSON.parse(l):[],c=new Date,u=new Date(c.setMonth(c.getMonth()+6));if("add"===e)a.push(s),(0,r.setCookie)(n,JSON.stringify(a),{expires:u});else if("remove"===e){let e=a.filter(e=>e!==s);(0,r.setCookie)(n,JSON.stringify(e),{expires:u})}}},7768:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return m},default:function(){return Index}});var r=i(5893),o=i(7294),n=i(9008),s=i.n(n),l=i(4161),a=i(9972);i(8411),i(5229);var c=i(4979),u=i(7156),d=i(9447),f=i(4305);i(6349),(0,u._)(.6,0,.2,1);let p={initial:e=>({background:e?"#1A1A1A":"#ffffff",transition:{duration:d.H2}}),hover:e=>({background:e?"#ffffff":"#1A1A1A",transition:{duration:d.H2}}),selected:{background:"#1A1A1A",transition:{duration:d.H2,type:"tween",ease:"easeIn"}}},ButtonWishlist=e=>{let[t,i]=(0,f.n)(!1,!0),[n,s]=(0,o.useState)("#1A1A1A"),[l,a]=(0,o.useState)("initial");return(0,r.jsx)(c.E.button,{onMouseOver:e=>{e.preventDefault(),a("hover"),s(t?"#1A1A1A":"#ffffff")},onMouseOut:e=>{e.preventDefault(),a("initial"),s(t?"#ffffff":"#1A1A1A")},onClick:t=>{t.preventDefault(),i(),e.onClick&&e.onClick()},className:"flex items-center justify-center w-[44px] h-[44px] rounded-[40px]",animate:t?"selected":l,variants:p,custom:t,whileHover:"hover",whileTap:"hover",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,r.jsx)("path",{d:"M3.46257 3.59168C5.55011 1.80804 8.32849 2.332 9.99462 4.27985C11.6607 2.332 14.4032 1.8268 16.5267 3.59168C18.6501 5.35656 18.9081 8.35748 17.2687 10.467C15.9057 12.2209 11.7808 15.9201 10.4288 17.1174C10.2776 17.2513 10.0003 17.5 10.0003 17.5L9.56041 17.1174C8.20847 15.9201 4.08351 12.2209 2.72049 10.467C1.08113 8.35748 1.37503 5.37532 3.46257 3.59168Z",fill:n,stroke:n})})})};(0,u._)(.6,0,.2,1);let h={hidden:e=>({x:50,opacity:0,transition:{duration:d._G}}),main:{x:0,opacity:1,transition:{duration:d._G}},hover:{x:0,opacity:.4}},CardWishlist=e=>{let{id:t,product:i,from:n,isGrid:s}=e,{image:l,title:a,subtitle:u}=i,[d,f]=(0,o.useState)("hidden"),[p,x]=(0,o.useState)({w:336,h:336});(0,o.useEffect)(()=>{"wishlist"===n&&f("main")},[n]),(0,o.useEffect)(()=>{window.innerWidth<768&&x({w:s?189:270,h:s?189:270})},[s]);let clickHandler=()=>{let e="/".concat(i.type,"/")+i.cod+"?color="+i.actualColor;window.history.pushState({...window.history.state,as:e,url:e},"",e),location.reload()};return(0,r.jsx)(c.E.div,{className:"relative flex",variants:h,animate:d,custom:t,style:{x:20,opacity:0},children:(0,r.jsxs)("div",{className:"relative flex flex-col w-[".concat(p.w,"px] max-w-[").concat(p.w,"px] rounded-[10px] overflow-hidden"),style:{width:p.w},children:[(0,r.jsx)("div",{className:"absolute top-[8px] right-[8px]",onMouseOver:e=>{e.preventDefault(),f("hover")},onMouseOut:e=>{e.preventDefault(),f("main")},children:(0,r.jsx)(ButtonWishlist,{onClick:()=>{e.onSelect&&e.onSelect(i)}})}),l&&(0,r.jsx)("img",{className:"w-full h-full max-h-[".concat(p.h,"px] rounded-[10px] cursor-pointer"),style:{height:p.h},src:l,alt:a,onClick:clickHandler}),(0,r.jsxs)("div",{className:"flex flex-col justify-between items-start py-[16px] cursor-pointer",onClick:clickHandler,children:[a&&(0,r.jsx)("p",{className:"text-[28px] lg:text-[32px] text-[#1A1A1A] px-[8px] uppercase",children:a}),u&&(0,r.jsx)("p",{className:"text-[12px] lg:text-[14px] text-[#1A1A1A] lg:pt-[12px] lg:pb-[8px] px-[8px] uppercase tk-inter",children:u})]})]})})};var x=i(899);i(5471);let Wishlist=e=>{var t;let i=(0,o.useContext)(l.I),{distributors:n}=e;(0,o.useEffect)(()=>{if(!e.fabrics&&!e.trimmings)return;let t=(0,x.f8)("fabrics"),r=(0,x.f8)("trimmings"),o=[],n=[];t&&t.map(t=>{e.fabrics.map(e=>{var i;null===(i=e.fields.colors)||void 0===i||i.map(i=>{var r;if((null===(r=i.fields)||void 0===r?void 0:r.name.toLowerCase())===t.toLowerCase()){let t=(0,a.dv)(e.fields,"fabrics");t.actualColor=i.fields.color,t.image=i.fields.pictures[0].fields.file.url,o.push(t)}})})}),r&&r.map(t=>{e.trimmings.map(e=>{var i;null===(i=e.fields.colors)||void 0===i||i.map(i=>{var r;if(e.fields.id+"-"+(null===(r=i.fields)||void 0===r?void 0:r.color.toLowerCase())===t.toLowerCase()){let t=(0,a.dv)(e.fields,"trimmings");t.actualColor=i.fields.color,t.image=i.fields.pictures[0].fields.file.url,n.push(t)}})})}),i.setList([...o,...n])},[]),(0,o.useEffect)(()=>{var e;null===(e=window)||void 0===e||e.scrollTo({top:0,left:0,behavior:"smooth"})},[]);let onSelectHandler=e=>{let t=i.list.filter(t=>!(t.cod===e.cod&&t.actualColor===e.actualColor));i.setList(t),(0,x.wH)("remove",e.id,e.actualColor,e.type)};return(0,r.jsx)(c.E.div,{className:"page-search relative w-full top-[0] pb-[60px] md:pb-[150px] pt-[76px] z-10",variants:{"page-hidden":{opacity:0},"page-in":{opacity:1,transition:{duration:1,delay:.5}},"page-out":{opacity:0,transition:{duration:.5}}},children:(0,r.jsxs)("div",{className:"relative w-full h-full z-10 min-h-screen flex flex-col",children:[(0,r.jsx)("h1",{className:"relative flex justify-center py-[40px] lg:py-[93px] pb-[24px] lg:pb-[28px] text-fluid-lg leading-[0.8] uppercase text-center",children:"WISHLIST"}),(null==i?void 0:i.list.length)>0?(0,r.jsx)(c.E.button,{className:"block border border-[#1A1A1A] rounded-[30px] mx-[auto] mt-8 lg:mb-[60px] p-[13px] lg:mt-[60px] text-[16px] tracking-[0.32px] uppercase leading-[1] tk-inter",onClick:e=>{i.setOpen(!0),(0,a.YA)("modalOpen"),null==i||i.setModal(!0)},style:{background:"rgba(256,256,256,0)",color:"#1A1A1A"},whileHover:{background:"#1A1A1A",color:"#ffffff"},transition:{duration:d.H2,type:"tween"},children:"REQUEST order samples"}):(0,r.jsx)("h1",{className:"text-[#1A1A1A] text-[48px] lg:text-[40px] text-center",children:"No products in wishlist"}),(null==i?void 0:i.list)&&(0,r.jsx)("div",{className:"relative w-full mt-[40px]",children:(0,r.jsx)("div",{className:"relative pb-[80px] pb-[36px] lg:pb-[120px] flex flex-row flex-wrap gap-[20px] justify-center",children:null==i?void 0:null===(t=i.list)||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)("div",{className:"item-list h-[fit-content]",id:t,children:(0,r.jsx)(CardWishlist,{id:t,product:e,from:"wishlist",isGrid:!0,onSelect:onSelectHandler})},t))})})]})})};var v=i(4734),m=!0;function Index(e){let t=(0,o.useContext)(l.I),{data:i}=e;return(0,o.useEffect)(()=>{(0,a.YA)("wishlist"),null==t||t.setTheme("dark"),null==t||t.setTemplate({...null==t?void 0:t.template,from:"wishlist",use:"wishlist"})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Etro | Wishlist"})}),(0,r.jsx)(Wishlist,{fabrics:e.fabrics,trimmings:e.trimmings,content:null===v.L||void 0===v.L?void 0:v.L.wishlist,data:i})]})}},4305:function(e,t,i){"use strict";i.d(t,{n:function(){return useCycle}});var r=i(7294);let wrap=(e,t,i)=>{let r=t-e;return((i-e)%r+r)%r+e};function useCycle(...e){let t=(0,r.useRef)(0),[i,o]=(0,r.useState)(e[t.current]),n=(0,r.useCallback)(i=>{t.current="number"!=typeof i?wrap(0,e.length,t.current+1):i,o(e[t.current])},[e.length,...e]);return[i,n]}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6712)}),_N_E=e.O()}]);