(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{4967:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fabrics",function(){return i(4698)}])},6349:function(e,t,i){"use strict";i.d(t,{E:function(){return Arrow}});var l=i(5893);let Arrow=e=>{let{color:t,rotate:i}=e;return(0,l.jsx)("div",{className:"arrow",style:{rotate:i},children:(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,l.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"".concat(t||"#fff")})})})}},4698:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSG:function(){return q},default:function(){return Index}});var l=i(5893),r=i(7294),a=i(6005),n=i(9008),s=i.n(n),c=i(4161),o=i(9972),d=i(5947),u=i(4979),f=i(1163);i(1664);var p=i(5518),x=i(7156),h=i(4305),m=i(6349),v=i(9447);let g=(0,x._)(.6,0,.2,1),w={initial:{background:"#ffffff",color:"#1A1A1A",transition:{duration:v.H2,ease:g}},hover:{background:"#1A1A1A",color:"#ffffff",transition:{duration:v.H2,ease:g}},selected:{background:"#1A1A1A",color:"#ffffff",transition:{duration:v.H2,ease:g}}},b={initial:{rotate:0,ease:"easeOut",duration:v.nf,type:"tween"},selected:{rotate:180,transition:{duration:v.nf,ease:g}}},ButtonFilter=e=>{let{label:t,arrow:i,disable:a,filtered:n,filter:s,sel:c}=e,[o,d]=(0,h.n)(!1,!0),[f,x]=(0,r.useState)("#1A1A1A"),[v,g]=(0,r.useState)("initial");return(0,r.useEffect)(()=>{c?d(!0):d(0)},[c]),(0,r.useEffect)(()=>{a&&o&&d(),c&&d(!0)},[a]),(0,l.jsxs)(u.E.button,{onMouseOver:()=>{p.tq||(g("hover"),x("#ffffff"))},onMouseOut:()=>{p.tq||(g("initial"),x("#1A1A1A"))},onClick:()=>{o&&d(),e.onClick&&e.onClick(s)},className:"flex items-center py-[10px] px-[14px] lg:px-[20px] rounded-[40px] gap-[4px] lg:gap-[8px]",animate:o?"selected":"initial",variants:w,whileHover:"hover",whileTap:"hover",children:[t&&(0,l.jsx)("label",{className:"text-[16px] w-max cursor-pointer tk-inter",children:t}),(null==n?void 0:n.length)>0&&(0,l.jsxs)("span",{children:["(",n.length,")"]}),i&&(0,l.jsx)(u.E.div,{animate:o?"selected":v,variants:b,children:(0,l.jsx)(m.E,{color:"".concat(o?"#fff":f)})})]})},y=(0,x._)(.6,0,.2,1),j={initial:{background:"#ffffff",color:"#1A1A1A",transition:{duration:v.H2,ease:y}},hover:{background:"#1A1A1A",color:"#ffffff",transition:{duration:v.H2,ease:y}},selected:{background:"#1A1A1A",color:"#ffffff",transition:{duration:v.H2,ease:y}}},N={initial:{rotate:0,ease:"easeOut",duration:v.nf,type:"tween"},selected:{rotate:180,transition:{duration:v.nf,ease:y}}},ButtonNewFabricsFilter=e=>{let{label:t,arrow:i,disable:a,filtered:n,filter:s,sel:c}=e,[o,d]=(0,h.n)(!1,!0),[f,x]=(0,r.useState)("#1A1A1A"),[v,g]=(0,r.useState)("initial");return(0,r.useEffect)(()=>{c?d(!0):d(0)},[c]),(0,r.useEffect)(()=>{a&&o&&d(),c&&d(!0)},[a]),(0,l.jsxs)(u.E.button,{onMouseOver:()=>{p.tq||(g("hover"),x("#ffffff"))},onMouseOut:()=>{p.tq||(g("initial"),x("#1A1A1A"))},onClick:()=>{o&&d(),e.handleNewFabrics&&e.handleNewFabrics()},className:"flex items-center py-[10px] px-[14px] lg:px-[20px] rounded-[40px] gap-[4px] lg:gap-[8px]",animate:e.newFabrics?"selected":"initial",variants:j,whileHover:"hover",whileTap:"hover",children:[t&&(0,l.jsx)("label",{className:"text-[16px] w-max cursor-pointer tk-inter",children:t}),(null==n?void 0:n.length)>0&&(0,l.jsxs)("span",{children:["(",n.length,")"]}),i&&(0,l.jsx)(u.E.div,{animate:o?"selected":v,variants:N,children:(0,l.jsx)(m.E,{color:"".concat(o?"#fff":f)})})]})},FilterProductsList=e=>{let t=(0,r.useContext)(c.I),i=(0,r.useRef)();(0,r.useEffect)(()=>{var e;return null===(e=window)||void 0===e||e.addEventListener("wheel",onWheelHandler,!0),()=>{var e;null===(e=window)||void 0===e||e.removeEventListener("wheel",onWheelHandler,!0)}},[]);let onFilterHandler=t=>{e.changeFilters&&e.changeFilters(t)},onWheelHandler=e=>{var t,l;let r=null==i?void 0:null===(t=i.current)||void 0===t?void 0:t.scrollLeft;null==i||null===(l=i.current)||void 0===l||l.scrollTo({left:r+.2*e.deltaY})};return(0,l.jsxs)("div",{ref:i,className:"relative flex flex-nowrap justify-start lg:justify-center items-center gap-[8px] overflow-hidden overflow-x-scroll px-[12px]",children:[(0,l.jsx)(ButtonNewFabricsFilter,{label:"New Fabrics",newFabrics:e.newFabrics,handleNewFabrics:()=>e.handleNewFabrics(!e.newFabrics)},0),(null==t?void 0:t.collections)&&(null==t?void 0:t.collections.map((t,i)=>{var r;return(0,l.jsx)(ButtonFilter,{label:t.fields.name,filter:t,sel:null===(r=e.colSelected)||void 0===r?void 0:r.includes(t.fields.id),onClick:onFilterHandler},i)}))]})};var F=i(9599),S=i.n(F);(0,x._)(.6,0,.2,1);let E={initial:{opacity:1,width:"100%",transition:{type:"spring",bounce:0,duration:v.ti}},show:{opacity:1,width:"100%",transition:{type:"spring",bounce:0,duration:v.ti}}},A={closed:{opacity:0,x:-100,transition:{type:"spring",stiffness:300,damping:24}},open:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{opacity:1,x:18,transition:{x:{delay:v.ti*e},type:"spring",stiffness:300,damping:24}}}},FilterSelect=e=>{let{idFilters:t,filter:i,filtered:a,parentId:n}=e,{filters:s}=i,[c,o]=(0,r.useState)([]),[d,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(a){let e=a.filter(e=>Number(e.parentId)===Number(n)).map(e=>e.id);o([...e])}},[a]),(0,r.useEffect)(()=>{d&&e.changeFilters&&e.changeFilters(d)},[d]);let selectFilterHandler=e=>{let t=JSON.parse(e.target.dataset.filter);if(c.includes(t.id)){let e=c.filter(e=>e!==t.id);o(e)}else o([...c,t.id]);f(t)};return(0,l.jsx)(u.E.ul,{variants:E,animate:t===String("filtro-".concat(n))?"show":"initial",children:s&&s.map((e,t)=>{let{label:i,id:r}=e,a=c.includes(r);return(0,l.jsx)(u.E.li,{className:"text-[15px] leading-[2.2] text-[#1a1a1a] ".concat(a?S().itemlistsel:S().itemlist),initial:!1,variants:A,animate:"open",custom:t,children:(0,l.jsx)("button",{className:"cursor-pointer tk-inter","data-filter":JSON.stringify(e),onClick:selectFilterHandler,children:i})},t)})})},k=(0,x._)(.6,0,.2,1),_={open:{y:"-100%",transition:{duration:1,ease:k}},closed:{y:"200%",transition:{duration:1,ease:k}}},Path=e=>(0,l.jsx)(u.E.line,{stroke:e.color,strokeWidth:"1.75",...e}),FilterTechnicMobile=e=>{let t=(0,r.useContext)(c.I),{open:i,isOpen:a,filters:n}=e,[s,o]=(0,r.useState)([]),d=(0,r.useRef)();(0,r.useEffect)(()=>{i?(null==t||t.setFilterOpen(!0),d.current.scrollTo(0,0)):null==t||t.setFilterOpen(!1)},[i]);let onSelectFilterHandler=t=>{if(s.length>0){let e=s,i=e.filter((e,i)=>e.id===t.id);i.length>0?e=e.filter(e=>e.id!==t.id):e.push(t),o([...e])}else o([t]);e.changeFilters&&e.changeFilters(t)};return(0,l.jsx)("div",{className:"filters-technic fixed bottom-0 left-0",children:(0,l.jsxs)(u.E.div,{initial:"closed",variants:_,animate:i?"open":"closed",className:"fixed w-screen h-[100%] bg-[rgba(255,255,255,1)] z-[10001] overflow-x-hidden overflow-y-hidden backdrop-blur-[8px] tk-inter",children:[(0,l.jsx)("button",{onClick:()=>{a(!i),e.changeModal&&e.changeModal(!i)},className:"absolute top-0 flex items-center gap-[20px] top-[22px] right-[24px] lg:left-[24px] z-[1004]",children:(0,l.jsxs)("svg",{height:"10",width:"52",viewBox:"0 0 52 8",fill:"none",children:[(0,l.jsx)(Path,{color:"#1A1A1A",variants:{closed:{x1:0,y1:0,x2:52,y2:1},open:{x1:0,y1:8,x2:52,y2:1}}}),(0,l.jsx)(Path,{color:"#1A1A1A",variants:{closed:{x1:0,y1:8,x2:52,y2:8},open:{x1:0,y1:0,x2:52,y2:8}}})]})}),(0,l.jsx)("div",{className:"absolute top-0 w-full z-[1003] pl-[12px] h-[17vh] gradient-fade",children:(0,l.jsx)("h2",{className:"text-[40px] mt-[44px] font-ivymode",children:"FILTER"})}),(0,l.jsx)("div",{className:"absolute bottom-0 w-full z-[1003] px-[12px] h-[17vh] gradient-fade-reverse flex justify-center",children:(0,l.jsx)("div",{className:"relative w-full",children:(0,l.jsx)("button",{className:"absolute bottom-[20px] px-[24px] py-[14px] bg-black text-white rounded-full border border-[#1A1A1A] font-inter w-full",onClick:()=>{window.scrollTo(0,0),a(!1)},children:"SHOW"})})}),(0,l.jsx)("div",{className:"flex flex-col filters p-[12px] gap-y-[32px] pt-[140px] pb-[200px] max-h-screen overflow-x-hidden",ref:d,children:n&&n.map((e,t)=>{let i=s.filter(t=>String(t.parentId)===String(e.id));return(0,l.jsxs)("div",{className:"filter-".concat(e.id),children:[(0,l.jsxs)("p",{className:"text-[16px] uppercase mb-[12px]",children:[e.label," ",i.length>0&&"(".concat(i.length,")")]}),(0,l.jsx)(FilterSelect,{index:t,parentId:e.id,filter:e,filtered:s,idFilters:e.id,changeFilters:onSelectFilterHandler},t)]},t)})})]})})},C=(0,x._)(.6,0,.2,1),H={initial:{opacity:0,width:0,height:0,transition:{duration:1,ease:C}},show:{opacity:1,width:200,transition:{duration:1,ease:C}}},M={closed:{opacity:0,x:-150,transition:{duration:1,ease:C}},open:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],{opacity:1,x:18,transition:{x:{duration:1,ease:C}}}}},filter_select_FilterSelect=e=>{let{index:t,idFilters:i,pos:a,filter:n,filtered:s,parentId:c}=e,{filters:o}=n,[d,f]=(0,r.useState)("closed"),[p,x]=(0,r.useState)([]),[h,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{i&&f("open")},[i]),(0,r.useEffect)(()=>{if(s){let e=s.filter(e=>Number(e.parentId)===Number(c)).map(e=>e.id);x([...e])}},[s]),(0,r.useEffect)(()=>{h&&e.changeFilters&&e.changeFilters(h)},[h]);let selectFilterHandler=e=>{let t=JSON.parse(e.target.dataset.filter);if(p.includes(t.id)){let e=p.filter(e=>e!==t.id);x(e)}else x([...p,t.id]);m(t)};return(0,l.jsx)(u.E.ul,{className:"absolute bottom-[45px] bg-white rounded-[16px] px-[12px] py-[24px] overflow-hidden list-none z-[101]",style:{left:Math.ceil(a.x)-24},variants:H,animate:i===String("filtro-".concat(c))?"show":"initial",children:o&&o.map((e,t)=>{let{label:i,id:r}=e,a=p.includes(r);return(0,l.jsx)(u.E.li,{className:"text-[15px] leading-[1.3] text-[#1a1a1a] ".concat(a?S().itemlistsel:S().itemlist," tk-inter"),initial:!1,variants:M,animate:d,custom:t,children:(0,l.jsx)("button",{className:"cursor-pointer","data-filter":JSON.stringify(e),onClick:selectFilterHandler,children:i})},t)})})},FilterTechnic=e=>{let{filters:t}=e,i=(0,r.useRef)(t.map(()=>(0,r.createRef)())),[a,n]=(0,r.useState)(null),[s,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(0),onClickHandler=e=>{var t;let l=e.id,r=null==i?void 0:null===(t=i.current)||void 0===t?void 0:t.filter(e=>String(e.getAttribute("id"))===String(l));d(r[0].getBoundingClientRect()),a!==String("filtro-".concat(l))?n(String("filtro-".concat(l))):n(null)},onSelectFilterHandler=t=>{if(s.length>0){let e=s,i=e.filter((e,i)=>e.id===t.id);i.length>0?e=e.filter(e=>e.id!==t.id):e.push(t),c([...e])}else c([t]);e.changeFilters&&e.changeFilters(t)};return(0,l.jsxs)("div",{className:"filters-technic relative",children:[(0,l.jsx)("div",{className:"relative md:flex h-[36px] mb-[44px] items-center justify-center gap-[8px] tk-inter",children:t&&t.map((e,t)=>(0,l.jsx)("div",{id:e.id,ref:e=>i.current[t]=e,children:(0,l.jsx)(ButtonFilter,{disable:a!==String("filtro-".concat(e.id)),label:e.label,arrow:!0,onClick:onClickHandler,filter:e,filtered:s.filter(t=>String(t.parentId)===String(e.id))})},t))}),t&&t.map((e,t)=>a===String("filtro-".concat(e.id))&&(0,l.jsx)(filter_select_FilterSelect,{index:t,parentId:e.id,filter:e,filtered:s,idFilters:a,pos:o,changeFilters:onSelectFilterHandler},t))]})},T=(0,x._)(.6,0,.2,1),z={type:"tween",ease:T,duration:.6},FilterGrid=e=>{let t=(0,r.useContext)(c.I),[i,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{e.changeGrid&&e.changeGrid(i)},[i]),(0,l.jsx)("button",{className:"relative flex ".concat(i?"justify-end":"justify-start"," w-[200px] h-[36px] rounded-[40px] cursor-pointer tk-inter overflow-hidden"),onClick:()=>{a(!i),null==t||t.setAnimazioni({anima_card_products_list:"main"})},children:(0,l.jsxs)(u.E.div,{className:"absolute color-[#1a1a1a] bg-white flex w-full h-full justify-between items-center px-[22px] z-[10]",children:[(0,l.jsxs)(u.E.div,{transition:z,className:"flex items-center gap-[8px]",children:[(0,l.jsxs)("svg",{className:"relative z-10",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,l.jsx)("rect",{x:"-6",y:"4",width:"8",height:"8",rx:"0.5",fill:"currentcolor"}),(0,l.jsx)("rect",{x:"4",y:"4",width:"8",height:"8",rx:"0.5",fill:"currentcolor"}),(0,l.jsx)("rect",{x:"14",y:"4",width:"8",height:"8",rx:"0.5",fill:"currentcolor"})]}),(0,l.jsx)("span",{className:"text-[16px] relative z-10",children:"Line"})]}),(0,l.jsxs)(u.E.div,{transition:z,className:"flex items-center gap-[8px]",children:[(0,l.jsxs)("svg",{className:"relative z-10",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,l.jsx)("rect",{fill:"currentcolor",x:"1",y:"1",width:"6",height:"6",rx:"0.5"}),(0,l.jsx)("rect",{fill:"currentcolor",x:"1",y:"9",width:"6",height:"6",rx:"0.5"}),(0,l.jsx)("rect",{fill:"currentcolor",x:"9",y:"1",width:"6",height:"6",rx:"0.5"}),(0,l.jsx)("rect",{fill:"currentcolor",x:"9",y:"9",width:"6",height:"6",rx:"0.5"})]}),(0,l.jsx)("span",{className:"text-[16px] relative z-10",children:"Grid"})]}),(0,l.jsx)(u.E.div,{className:"absolute z-10 mix-blend-difference top-0 w-[100px] h-[36px] bg-white rounded-[40px]",animate:i?{left:"100%",x:"-100%"}:{left:0,x:0},transition:z})]})})};var I=i(2148),O=i(6177);let B=p.tq?"-20%":"-55%",P={initial:{opacity:0,y:-20},show:{opacity:1,y:0,transition:{duration:1,ease:I.mv,delay:.8}},homepage:{opacity:1,y:0,transition:{duration:1,ease:I.mv,delay:2.5}}},L={initial:{opacity:0,y:-20},show:{opacity:1,y:0,transition:{duration:1,ease:I.mv,delay:.8}},homepage:{opacity:1,y:0,transition:{duration:1,ease:I.mv,delay:2.5}}},R={initial:{opacity:0,y:"100vh"},show:{opacity:1,y:B,transition:{duration:1,ease:I.mv,delay:.8}},homepage:{opacity:1,y:B,transition:{duration:1,ease:I.mv,delay:2.5}}};var q=!0;function Index(e){let t=(0,r.useContext)(c.I),i=(0,f.useRouter)(),{query:n}=i,[p,x]=(0,r.useState)(""),[h,m]=(0,r.useState)(0),[v,g]=(0,r.useState)(()=>n.idCol?e.fabric.filter(e=>e.id==n.idCol).flatMap(e=>e.products):n.newFabrics?e.fabric.flatMap(e=>e.products.filter(e=>e.isNewFabric)):e.fabric.flatMap(e=>e.products)),[w,b]=(0,r.useState)(v),y=(0,d.hO)(),j=n.first||n.second,[N,F]=(0,r.useState)(!0),[S,E]=(0,r.useState)([]),[A,k]=(0,r.useState)([]),[_,C]=(0,r.useState)([]),[H,M]=(0,r.useState)(!!n.newFabrics),T=(0,O.LZ)(),[z,B]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(0,o.YA)("productslist"),null==t||t.setTheme("dark"),null==t||t.setTemplate({...null==t?void 0:t.template,from:"productslist",use:"productslist"})},[]),(0,r.useEffect)(()=>{n.idCol&&k([n.idCol])},[n]),(0,r.useEffect)(()=>{let e=[],t=[],i=[];v.map(l=>{let r=l.characteristics.filters;r.pattern&&Object.entries(r.pattern).forEach(t=>{let[i,l]=t;e.push({id:l,label:l,parentId:"1",tipo:"pattern"})}),r.type&&Object.entries(r.type).forEach(e=>{let[i,l]=e,r=l.replace(",","").trim();t.push({id:r,label:r,parentId:"2",tipo:"type"})}),i.push({id:r.use,label:r.use,parentId:"3",tipo:"use"})}),C([{id:1,label:"Pattern",filters:[...new Map(e.map(e=>[e.id,e])).values()]},{id:2,label:"Type",filters:[...new Map(t.map(e=>[e.id,e])).values()]},{id:3,label:"Use",filters:[...new Map(i.map(e=>[e.id,e])).values()]}])},[A,H]),(0,r.useEffect)(()=>{let e=a.ZP.sortBy(v,"title");b(a.ZP.uniq(e,e=>e.id))},[v]),(0,r.useEffect)(()=>{null==T||T.scrollTo("top",{immediate:!0}),m(e=>e+1)},[T,w]);let filterHandler=e=>{let t=[...S],i=t.find(t=>t.id==e.id);(t=i?t.filter(t=>t.id!=e.id):[...t,e]).length>0?b(()=>v.filter(e=>t.some(t=>{var i,l,r;if("use"===t.tipo){let l=null===(i=e.characteristics)||void 0===i?void 0:i.filters[t.tipo];return null==l?void 0:l.includes(t.id)}{let i=null===(r=e.characteristics)||void 0===r?void 0:null===(l=r.filters[t.tipo])||void 0===l?void 0:l.map(e=>e.replace(",","").trim());return null==i?void 0:i.includes(t.id)}}))):b(v),E(t)};(0,r.useEffect)(()=>{t.backProduct.fabric&&(null==T||T.scrollTo("[href='/fabrics/".concat(t.backProduct.fabric,"']"),{offset:-(innerHeight/2),onComplete:()=>t.setBackProduct(e=>({...e,fabric:""}))}))},[T,t.setBackProduct.fabric]);let q=(0,r.useRef)(),[G,J]=(0,r.useState)(0),[W,X]=(0,r.useState)(0),[Z,D]=(0,r.useState)(!1),[U,Y]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{Y(!0)},2e3);return()=>{clearTimeout(e)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s(),{children:(0,l.jsx)("title",{children:"Etro | Prodotti"})}),(0,l.jsxs)("div",{className:"relative z-10 min-h-screen",children:[(0,l.jsx)("div",{className:"block md:hidden bg-white fixed z-[1002]",children:(0,l.jsx)(FilterTechnicMobile,{changeFilters:filterHandler,filters:_,open:z,isOpen:B})}),(0,l.jsxs)(u.E.div,{className:"sticky pb-[10px] w-full flex justify-between h-[36px] top-[calc(100svh-52px)] lg:top-[calc(100vh-40px)] z-[102] lg:px-[24px] pr-[13px]",initial:"initial",variants:R,animate:"show",layoutRoot:!0,children:[(0,l.jsx)("div",{className:"relative md:hidden flex h-[36px] items-center justify-center gap-[8px] pl-[13px]",children:(0,l.jsx)(ButtonFilter,{label:"Filter",arrow:!0,onClick:()=>{B(!z)}})}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)(FilterTechnic,{changeFilters:filterHandler,filters:_})}),(0,l.jsx)(FilterGrid,{changeGrid:e=>{null==T||T.scrollTo(0,{immediate:!0}),F(e)},selected:p})]}),(0,l.jsx)(u.E.div,{className:"relative flex justify-center pt-[50px] pb-[24px] lg:pb-[28px]",initial:"initial",variants:P,animate:"show",children:(0,l.jsx)("h1",{className:"text-[clamp(3.3rem,8.33vw,140px)] leading-none uppercase text-center",children:"explore fabrics"})}),(0,l.jsx)(u.E.div,{className:"relative flex justify-center lg:h-[36px] z-[100] lg:py-0 pb-[13px]",initial:"initial",variants:L,animate:"show",children:(0,l.jsx)(FilterProductsList,{changeFilters:t=>{M(!1),k(i=>{if(H&&M(!1),i.includes(t.fields.id)){let l=i.filter(e=>e!=t.fields.id);return l.length?g(e.fabric.filter(e=>l.includes(e.id)).flatMap(e=>e.products)):g(e.fabric.flatMap(e=>e.products)),l}{let l=[...i,t.fields.id];return g(e.fabric.filter(e=>l.includes(e.id)).flatMap(e=>e.products)),l}})},colSelected:A,newFabrics:H,handleNewFabrics:t=>{k([]),t?g(e.fabric.flatMap(e=>e.products.filter(e=>e.isNewFabric)).filter(Boolean)):(n.newFabrics&&i.replace("/fabrics",void 0,{shallow:!0}),g(e.fabric.flatMap(e=>e.products))),M(t)}})}),(0,l.jsxs)(u.E.section,{ref:q,className:N?"relative mt-10 grid grid-cols-2 md:grid-cols-[repeat(4,calc(25vw-2.1875rem))] gap-4 md:gap-5 px-2 md:px-10 z-50 pb-[12vh]":"relative overflow-auto px-5 md:px-10 mt-10 flex gap-5 w-full select-none",style:{zIndex:10},onMouseDown:e=>{J(e.clientX),X(e.currentTarget.scrollLeft),D(!0)},onMouseMove:e=>{Z&&(q.current.scrollLeft=W-(G-e.clientX))},onMouseUp:e=>{J(0),X(0),D(!1)},children:[w.map((e,t)=>{var r;if(!y&&p==e.id)return null;let a=(null===(r=e.colors)||void 0===r?void 0:r.choices)||[];return(0,l.jsxs)("a",{href:"/fabrics/".concat(e.cod),onClick:t=>{Z&&t.preventDefault(),x(e.id)},style:{zIndex:[n.first,n.second].includes(e.id)?2:1},className:N?"select-none md:w-[calc(25vw-2.1875rem)]":"flex-none select-none w-[63vw] md:w-[calc(25vw-2.1875rem)]",draggable:!1,children:[(0,l.jsx)(u.E.div,{layoutId:"img-".concat(e.id),variants:{"page-hidden":{opacity:[n.first,n.second].includes(e.id)||0!==h?1:0},"page-in":{opacity:1,transition:{delay:1}},"page-out":{opacity:p!=e.id?0:1,transition:{duration:1}}},className:"aspect-square w-full overflow-hidden rounded-lg",transition:{layout:{duration:j?1.4:0}},onLayoutAnimationComplete:()=>{j&&i.replace("/fabrics?idCol=".concat(n.idCol),void 0,{shallow:!0})},children:(0,l.jsx)(u.E.div,{whileHover:{scale:1.2},transition:{duration:1.4,ease:I.mv},className:"h-full w-full",children:(0,l.jsx)("img",{className:"h-full w-full object-cover",src:e.preview,width:320,height:240,alt:"",draggable:!1})})}),(0,l.jsxs)(u.E.div,{variants:{"page-hidden":{opacity:U?1:0},"page-in":{opacity:1,transition:{delay:1}},"page-out":{opacity:0}},children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mt-2 lg:mt-[12px]",children:[e.title&&(0,l.jsx)("p",{className:"text-fluid-mml text-[#1A1A1A] px-1 lg:px-[8px] md:px-[8px] mb-[4px] lg:mb-[8px] whitespace-nowrap text-ellipsis overflow-auto uppercase",style:{paddingRight:a.length>2?48:16*a.length},children:e.title}),a&&(0,l.jsx)("div",{className:"relative pt-[3px] md:pt-[6px] lg:block hidden",children:a.map((e,t)=>{if(t<3){let i=a.length,r=i>2?(2-t)*12:0;return(0,l.jsx)("div",{className:"absolute flex items-center justify-center w-[24px] h-[24px] rounded-[24px] bg-[#1A1A1A] overflow-hidden right-0 border border-[#fff]",style:{zIndex:t,right:r},children:t<2?(0,l.jsx)("img",{className:"w-full h-full",src:e.icon,alt:e.label}):(0,l.jsx)("span",{className:"text-[10px] text-white",children:"+".concat(a.length-2)})},t)}})})]}),e.subtitle&&(0,l.jsx)("p",{className:"text-[10px] lg:text-[14px] text-[#1A1A1A] px-1 lg:px-[8px] uppercase tk-inter",children:e.subtitle})]})]},t)}),(0,l.jsx)("div",{className:"w-[calc(var(--footer-height)-76px)] flex-none"})]},U?JSON.stringify(_):void 0)]})]})}},9599:function(e){e.exports={itemlist:"style_itemlist__HmhE5",itemlistsel:"style_itemlistsel__roXNh"}}},function(e){e.O(0,[74,774,888,179],function(){return e(e.s=4967)}),_N_E=e.O()}]);